{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"F:\\\\codeGeek\\\\screens\\\\FindUsers.js\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport * as Location from 'expo-location';\nimport axios from \"axios\";\nexport default function FindUsers() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  React.useEffect(function () {\n    loc();\n  }, []);\n\n  function loc() {\n    var _await$Location$reque, status, _loc, current_location, result;\n\n    return _regeneratorRuntime.async(function loc$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Location.requestPermissionsAsync());\n\n          case 2:\n            _await$Location$reque = _context.sent;\n            status = _await$Location$reque.status;\n\n            if (!(status !== 'granted')) {\n              _context.next = 8;\n              break;\n            }\n\n            console.log('Permission to access location was denied');\n            _context.next = 17;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync());\n\n          case 10:\n            _loc = _context.sent;\n            current_location = {\n              latitude: 12.899929,\n              longitude: 77.510606\n            };\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync(current_location));\n\n          case 14:\n            result = _context.sent;\n            _context.next = 17;\n            return _regeneratorRuntime.awrap(axios.get(\"http://192.168.42.147:3006/api/nearby/\" + current_location.latitude + \"/\" + current_location.longitude + \"/\" + result[0].postalCode).then(function (res) {\n              setImage(res.data.ne[0].user.image);\n              console.log(res.data.ne[0].user.image);\n            }).catch(function (err) {\n              console.log(err);\n            }));\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, image && React.createElement(Image, {\n    source: image,\n    style: {\n      width: 100,\n      height: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }));\n}\nvar styles = StyleSheet.create({});","map":{"version":3,"sources":["F:/codeGeek/screens/FindUsers.js"],"names":["React","useState","Location","axios","FindUsers","image","setImage","useEffect","loc","requestPermissionsAsync","status","console","log","getCurrentPositionAsync","current_location","latitude","longitude","reverseGeocodeAsync","result","get","postalCode","then","res","data","ne","user","catch","err","width","height","styles","StyleSheet","create"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;;;;;AAEA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe,SAASC,SAAT,GAAqB;AAAA,kBACNH,QAAQ,EADF;AAAA;AAAA,MACzBI,KADyB;AAAA,MAClBC,QADkB;;AAEhCN,EAAAA,KAAK,CAACO,SAAN,CAAgB,YAAM;AAClBC,IAAAA,GAAG;AACN,GAFD,EAEE,EAFF;;AAGA,WAAeA,GAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAC2BN,QAAQ,CAACO,uBAAT,EAD3B;;AAAA;AAAA;AACUC,YAAAA,MADV,yBACUA,MADV;;AAAA,kBAEQA,MAAM,KAAK,SAFnB;AAAA;AAAA;AAAA;;AAIMC,YAAAA,OAAO,CAACC,GAAR,CAAY,0CAAZ;AAJN;AAAA;;AAAA;AAAA;AAAA,6CAOwBV,QAAQ,CAACW,uBAAT,EAPxB;;AAAA;AAOYL,YAAAA,IAPZ;AASUM,YAAAA,gBATV,GAS6B;AACrBC,cAAAA,QAAQ,EAAE,SADW;AAErBC,cAAAA,SAAS,EAAC;AAFW,aAT7B;AAAA;AAAA,6CAeyBd,QAAQ,CAACe,mBAAT,CAA6BH,gBAA7B,CAfzB;;AAAA;AAeUI,YAAAA,MAfV;AAAA;AAAA,6CAgBcf,KAAK,CAACgB,GAAN,4CAAmDL,gBAAgB,CAACC,QAApE,SAAgFD,gBAAgB,CAACE,SAAjG,SAA8GE,MAAM,CAAC,CAAD,CAAN,CAAUE,UAAxH,EAAsIC,IAAtI,CAA2I,UAACC,GAAD,EAAS;AACtJhB,cAAAA,QAAQ,CAACgB,GAAG,CAACC,IAAJ,CAASC,EAAT,CAAY,CAAZ,EAAeC,IAAf,CAAoBpB,KAArB,CAAR;AACAM,cAAAA,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACC,IAAJ,CAASC,EAAT,CAAY,CAAZ,EAAeC,IAAf,CAAoBpB,KAAhC;AACH,aAHK,EAGHqB,KAHG,CAGG,UAACC,GAAD,EAAS;AAChBhB,cAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACH,aALO,CAhBd;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAyBA,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtB,KAAK,IACF,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEA,KAAf;AAAsB,IAAA,KAAK,EAAE;AAAEuB,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,MAAM,EAAE;AAAtB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,EAGI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ;AASH;AAED,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB,EAAlB,CAAf","sourcesContent":["import React,{useState} from 'react'\r\nimport { StyleSheet, Text, View,Image } from 'react-native'\r\nimport * as Location from 'expo-location';\r\nimport axios from \"axios\";\r\nexport default function FindUsers() {\r\n    const [image, setImage] = useState();\r\n    React.useEffect(() => {\r\n        loc();\r\n    },[])\r\n    async function loc() {\r\n        let { status } = await Location.requestPermissionsAsync()\r\n        if (status !== 'granted') {\r\n          \r\n          console.log('Permission to access location was denied');\r\n        \r\n        } else {\r\n          const loc = await Location.getCurrentPositionAsync();\r\n\r\n          var current_location = {\r\n            latitude: 12.899929,\r\n            longitude:77.510606\r\n            // latitude: loc.coords.latitude,\r\n            // longitude: loc.coords.longitude\r\n          }\r\n          let result = await Location.reverseGeocodeAsync(current_location);\r\n            await axios.get(`http://192.168.42.147:3006/api/nearby/${current_location.latitude}/${current_location.longitude}/${result[0].postalCode}`).then((res) => {\r\n                setImage(res.data.ne[0].user.image)\r\n                console.log(res.data.ne[0].user.image)\r\n            }).catch((err) => {\r\n              console.log(err)\r\n          })\r\n         \r\n        }\r\n      }\r\n    return (\r\n        <View>\r\n            {image && (\r\n                <Image source={image} style={{ width: 100, height: 100 }}></Image>)}\r\n            <Text>\r\n\r\n            </Text>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({})\r\n"]},"metadata":{},"sourceType":"module"}