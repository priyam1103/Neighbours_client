{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"F:\\\\codeGeek\\\\screens\\\\Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, createRef, useContext } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Feather } from '@expo/vector-icons';\nimport axios from \"axios\";\nimport { GlobalContext } from \"../context/globalState\";\nvar fields = ['username', 'emailId', 'mobileNo'];\nvar current_screen = \"initialData\";\nvar screen = Dimensions.get(\"window\");\nvar setX = screen.width / 2 - 145;\nvar i = 0;\nvar cur = 0;\nvar setY = screen.height / 2 - 80;\nexport default function Login(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(GlobalContext),\n      user = _useContext.user,\n      addUser = _useContext.addUser,\n      addToken = _useContext.addToken;\n\n  React.useEffect(function () {\n    console.log(localStorage.getItem(\"love_token\"));\n\n    if (localStorage.getItem(\"love_token\") != null) {\n      navigation.navigate(\"Home\");\n    }\n  }, []);\n  var ViewRefs = React.useRef([]);\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      curr_i = _useState2[0],\n      setCurrent = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      otp = _useState4[0],\n      setOtp = _useState4[1];\n\n  var _useState5 = useState(\"initialData\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      current_screen = _useState6[0],\n      setCurrentScreen = _useState6[1];\n\n  var _useState7 = useState({\n    username: \"\",\n    emailId: \"\",\n    mobileNo: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState({\n    birthday: \"\",\n    description: \"\",\n    likes: \"\",\n    dislikes: \"\"\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      description = _useState10[0],\n      setDescription = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      error = _useState12[0],\n      setError = _useState12[1];\n\n  while (i < fields.length) {\n    if (i == 0) {\n      ViewRefs.current[i] = new Animated.Value(1);\n    } else {\n      ViewRefs.current[i] = new Animated.Value(0);\n    }\n\n    i++;\n  }\n\n  function moveText() {\n    console.log(data);\n\n    if (ViewRefs.current[cur] != undefined) {\n      console.log(ViewRefs.current[cur]);\n      Animated.timing(ViewRefs.current[cur], {\n        toValue: 1,\n        duration: 100,\n        useNativeDriver: false\n      }).start();\n      cur++;\n    } else {\n      setError(null);\n      console.log(data);\n\n      if (data.username != \"\" && data.emailId != \"\" && data.mobileNo != \"\") {\n        axios.post(\"http://192.168.0.106:3006/user/signup\", data).then(function (res) {\n          addUser(res.data.user_);\n          setCurrentScreen(\"otp\");\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else {\n        setError(\"please enter all details\");\n      }\n    }\n  }\n\n  var verifyOtp = function verifyOtp() {\n    var data;\n    return _regeneratorRuntime.async(function verifyOtp$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = {\n              otp: otp,\n              emailId: user.emailId\n            };\n            axios.post(\"http://192.168.0.106:3006/user/verify\", data).then(function (res) {\n              console.log(res.data.token);\n              addToken(res.data.token);\n              setCurrentScreen(\"description\");\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, current_screen === \"initialData\" && React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, fields.map(function (a, index) {\n    return React.createElement(Animated.View, {\n      key: index,\n      style: {\n        left: setX,\n        opacity: ViewRefs.current[index]\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, React.createElement(TextInput, {\n      placeholder: fields[index],\n      ref: ViewRefs.current[index],\n      name: fields[index],\n      onChangeText: function onChangeText(text) {\n        return setData(_objectSpread(_objectSpread({}, data), {}, _defineProperty({}, fields[index], text)));\n      },\n      style: {\n        height: 40,\n        marginTop: \"10%\",\n        borderColor: 'gray',\n        width: \"60%\",\n        borderBottomWidth: 1,\n        borderColor: \"black\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }));\n  })), current_screen === \"otp\" && React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Enter otp\",\n    onChangeText: function onChangeText(text) {\n      return setOtp(text);\n    },\n    style: {\n      height: 40,\n      left: setX,\n      marginTop: \"10%\",\n      borderColor: 'gray',\n      width: \"60%\",\n      borderBottomWidth: 1,\n      borderColor: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  })), current_screen === \"description\" && React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Something about you...\",\n    onChangeText: function onChangeText(text) {\n      return setDescription(_objectSpread(_objectSpread({}, description), {}, {\n        \"birthday\": text\n      }));\n    },\n    style: {\n      height: 40,\n      left: setX,\n      marginTop: \"10%\",\n      borderColor: 'gray',\n      width: \"60%\",\n      borderBottomWidth: 1,\n      borderColor: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Something about you...\",\n    onChangeText: function onChangeText(text) {\n      return setDescription(_objectSpread(_objectSpread({}, description), {}, {\n        \"description\": text\n      }));\n    },\n    style: {\n      height: 40,\n      left: setX,\n      marginTop: \"10%\",\n      borderColor: 'gray',\n      width: \"60%\",\n      borderBottomWidth: 1,\n      borderColor: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 12\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Something about you...\",\n    onChangeText: function onChangeText(text) {\n      return setDescription(_objectSpread(_objectSpread({}, description), {}, {\n        \"likes\": text\n      }));\n    },\n    style: {\n      height: 40,\n      left: setX,\n      marginTop: \"10%\",\n      borderColor: 'gray',\n      width: \"60%\",\n      borderBottomWidth: 1,\n      borderColor: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 12\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Something about you...\",\n    onChangeText: function onChangeText(text) {\n      return setDescription(_objectSpread(_objectSpread({}, description), {}, {\n        \"dislikes\": text\n      }));\n    },\n    style: {\n      height: 40,\n      left: setX,\n      marginTop: \"10%\",\n      borderColor: 'gray',\n      width: \"60%\",\n      borderBottomWidth: 1,\n      borderColor: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 12\n    }\n  })), error && React.createElement(Text, {\n    style: {\n      left: screen.width / 2 - 70,\n      marginTop: \"10%\",\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 20\n    }\n  }, error), React.createElement(TouchableOpacity, {\n    style: {\n      left: screen.width / 2 - 30,\n      marginTop: \"30%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, current_screen === \"initialData\" ? React.createElement(Feather, {\n    onPress: function onPress() {\n      return moveText();\n    },\n    name: \"arrow-right\",\n    size: 54,\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }) : React.createElement(Feather, {\n    onPress: function onPress() {\n      return verifyOtp();\n    },\n    name: \"arrow-right\",\n    size: 54,\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    overflow: \"scroll\",\n    textAlign: \"center\",\n    height: \"100%\",\n    marginTop: \"40%\"\n  }\n});","map":{"version":3,"sources":["F:/codeGeek/screens/Login.js"],"names":["React","useState","useRef","createRef","useContext","Feather","axios","GlobalContext","fields","current_screen","screen","Dimensions","get","setX","width","i","cur","setY","height","Login","navigation","user","addUser","addToken","useEffect","console","log","localStorage","getItem","navigate","ViewRefs","curr_i","setCurrent","otp","setOtp","setCurrentScreen","username","emailId","mobileNo","data","setData","birthday","description","likes","dislikes","setDescription","error","setError","length","current","Animated","Value","moveText","undefined","timing","toValue","duration","useNativeDriver","start","post","then","res","user_","catch","err","verifyOtp","token","styles","container","map","a","index","left","opacity","text","marginTop","borderColor","borderBottomWidth","color","StyleSheet","create","overflow","textAlign"],"mappings":"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","sourcesContent":["import React,{useState,useRef, createRef,useContext} from 'react';\r\nimport { StyleSheet, Text, TextInput,KeyboardAvoidingView, View, Animated, TouchableOpacity, Dimensions } from 'react-native';\r\nimport { Feather } from '@expo/vector-icons'; \r\nimport axios from \"axios\";\r\nimport {GlobalContext} from \"../context/globalState\"\r\nconst fields = ['username', 'emailId', 'mobileNo'];\r\nvar current_screen = \"initialData\"\r\nconst screen = Dimensions.get(\"window\");\r\nvar setX = (screen.width / 2) - 145;\r\nvar i = 0;\r\nvar cur = 0;\r\nvar setY = (screen.height/2)-80\r\nexport default function Login ({navigation}){\r\n  const { user,addUser,addToken } = useContext(GlobalContext);\r\n  //console.log(user)\r\n  React.useEffect(() => {\r\n    console.log(localStorage.getItem(\"love_token\"))\r\n    if (localStorage.getItem(\"love_token\")!=null) {\r\n      navigation.navigate(\"Home\")\r\n    }\r\n  },[])\r\n  const ViewRefs = React.useRef([]);\r\n  const [curr_i, setCurrent] = useState(0);\r\n  const [otp,setOtp] = useState()\r\n  const [current_screen,setCurrentScreen]=useState(\"initialData\")\r\n  const [data, setData] = useState({\r\n    username: \"\",\r\n    emailId: \"\",\r\n    mobileNo: \"\",\r\n  \r\n  })\r\n  const [description, setDescription] = useState({\r\n    birthday: \"\",\r\n    description: \"\",\r\n    likes: \"\",\r\n    dislikes: \"\",\r\n  })\r\n   const [error, setError] = useState();\r\n while (i < fields.length) {\r\n    if (i == 0) {\r\n      ViewRefs.current[i]=(new Animated.Value(1))\r\n    \r\n     \r\n    } else {\r\n      ViewRefs.current[i]=(new Animated.Value(0))\r\n     \r\n     \r\n    }\r\n    i++;\r\n  }\r\n  \r\n\r\n  function moveText() {\r\nconsole.log(data)\r\n      \r\n    if (ViewRefs.current[cur]!=undefined) {\r\n\r\n     // ViewRefs.current[index] = 1;\r\n      console.log(ViewRefs.current[cur])\r\n     \r\n          \r\n            Animated.timing(ViewRefs.current[cur], {\r\n              toValue: 1,\r\n              duration: 100,\r\n              useNativeDriver: false\r\n            }).start()\r\n            \r\n      cur++\r\n        \r\n      \r\n //  setCurrent(curr_i+1);\r\n    } else {\r\n      \r\n      setError(null)\r\n      console.log(data)\r\n      if (data.username != \"\" && data.emailId != \"\" && data.mobileNo != \"\") {\r\n       \r\n        axios.post(\"http://192.168.0.106:3006/user/signup\", data)\r\n          .then((res) => {\r\n            addUser(res.data.user_)\r\n            setCurrentScreen(\"otp\")\r\n          }).catch((err) => {\r\n            console.log(err);\r\n        })\r\n         // navigation.navigate(\"Home\")\r\n      } else {\r\n        setError(\"please enter all details\")\r\n      }\r\n  \r\n    }\r\n  }\r\n\r\n  const verifyOtp =async () => {\r\n    const data = {\r\n      otp: otp,\r\n      emailId:user.emailId\r\n    }\r\n    axios.post(\"http://192.168.0.106:3006/user/verify\", data)\r\n      .then((res) => {\r\n        console.log(res.data.token)\r\n        addToken(res.data.token)\r\n        setCurrentScreen(\"description\")\r\n    })\r\n  }\r\n  \r\n  return (\r\n   \r\n    <View style={styles.container}>\r\n      {current_screen === \"initialData\" && (\r\n        <View>\r\n          {\r\n            fields.map((a, index) => (\r\n              <Animated.View\r\n                key={index}\r\n                style={{\r\n          \r\n                  left: setX,\r\n                  opacity: ViewRefs.current[index],\r\n\r\n                            \r\n                }}\r\n              >\r\n                <TextInput\r\n                  placeholder={fields[index]}\r\n                  ref={ViewRefs.current[index]}\r\n                  name={fields[index]}\r\n                  onChangeText={text => setData({ ...data, [fields[index]]: text })}\r\n                  //  onChange={e=>setData({...data,[fields[index]]:e.target.value})}\r\n                  style={{\r\n                    height: 40, marginTop: \"10%\", borderColor: 'gray', width: \"60%\", borderBottomWidth: 1,\r\n                    borderColor: \"black\",\r\n                  }}\r\n              \r\n          \r\n                />\r\n              </Animated.View>\r\n       \r\n          \r\n \r\n            ))\r\n          }</View>)}\r\n      {current_screen === \"otp\" && (\r\n        <View>\r\n          <TextInput\r\n            placeholder=\"Enter otp\"\r\n            onChangeText={text => setOtp(text)}\r\n            //  onChange={e=>setData({...data,[fields[index]]:e.target.value})}\r\n            style={{\r\n              height: 40, left: setX, marginTop: \"10%\", borderColor: 'gray', width: \"60%\", borderBottomWidth: 1,\r\n              borderColor: \"black\",\r\n            }}\r\n              \r\n          \r\n          />\r\n        </View>)}\r\n      {current_screen === \"description\" && (\r\n        <View>\r\n        <TextInput\r\n          placeholder=\"Something about you...\"\r\n          onChangeText={text => setDescription({ ...description, \"birthday\": text })}\r\n       \r\n          style={{\r\n            height: 40, left: setX, marginTop: \"10%\", borderColor: 'gray', width: \"60%\", borderBottomWidth: 1,\r\n            borderColor: \"black\",\r\n          }}\r\n            \r\n        \r\n          />\r\n           <TextInput\r\n          placeholder=\"Something about you...\"\r\n          onChangeText={text => setDescription({ ...description, \"description\": text })}\r\n       \r\n          style={{\r\n            height: 40, left: setX, marginTop: \"10%\", borderColor: 'gray', width: \"60%\", borderBottomWidth: 1,\r\n            borderColor: \"black\",\r\n          }}\r\n            \r\n        \r\n          />\r\n           <TextInput\r\n          placeholder=\"Something about you...\"\r\n          onChangeText={text => setDescription({ ...description, \"likes\": text })}\r\n       \r\n          style={{\r\n            height: 40, left: setX, marginTop: \"10%\", borderColor: 'gray', width: \"60%\", borderBottomWidth: 1,\r\n            borderColor: \"black\",\r\n          }}\r\n            \r\n        \r\n          />\r\n           <TextInput\r\n          placeholder=\"Something about you...\"\r\n          onChangeText={text => setDescription({ ...description, \"dislikes\": text })}\r\n       \r\n          style={{\r\n            height: 40, left: setX, marginTop: \"10%\", borderColor: 'gray', width: \"60%\", borderBottomWidth: 1,\r\n            borderColor: \"black\",\r\n          }}\r\n            \r\n        \r\n        />\r\n      </View>\r\n      )}\r\n        \r\n         {error && <Text style={{ left: (screen.width / 2)-70,marginTop:\"10%\",color:\"red\" }}>{error}</Text>}\r\n      <TouchableOpacity style={{ left: (screen.width / 2) - 30, marginTop: \"30%\", }}  >\r\n        {current_screen === \"initialData\" ?\r\n          <Feather onPress={() => moveText()} name=\"arrow-right\" size={54} color=\"black\" /> :\r\n          <Feather onPress={() => verifyOtp()} name=\"arrow-right\" size={54} color=\"black\" />}\r\n        </TouchableOpacity>\r\n      </View>\r\n    \r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    overflow:\"scroll\",\r\n    textAlign: \"center\",\r\n    height: \"100%\",\r\n    marginTop:\"40%\",\r\n        \r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}