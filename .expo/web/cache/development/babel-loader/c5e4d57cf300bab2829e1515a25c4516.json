{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"F:\\\\codeGeek\\\\Index.js\";\nimport React, { useState, useRef, createRef } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport Home from \"./screens/Home\";\nimport { AntDesign } from '@expo/vector-icons';\nimport axios from \"axios\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Login from \"./screens/Login\";\nimport Cameraa from \"./screens/Cameraa\";\nimport Description from \"./screens/Description\";\nimport { GlobalContext } from \"./context/globalState\";\nimport FindUsers from \"./screens/FindUsers\";\nvar token_ = localStorage.getItem(\"love_token\");\nexport default function Index(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useContext = React.useContext(GlobalContext),\n      token = _React$useContext.token,\n      addToken = _React$useContext.addToken,\n      updateUser = _React$useContext.updateUser,\n      user = _React$useContext.user;\n\n  var Stack = createStackNavigator();\n  var SignNaviator = createStackNavigator();\n  React.useEffect(function () {\n    if (localStorage.getItem(\"love_token\") === null) {} else {\n      addToken(localStorage.getItem(\"love_token\"));\n      check();\n    }\n  }, []);\n\n  function check() {\n    return _regeneratorRuntime.async(function check$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(token_ != null)) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(\"http://192.168.0.106:3006/user/me\", {\n              headers: {\n                authorization: \"Bearer \" + token_\n              }\n            }).then(function (res) {\n              console.log(res.data.user_);\n              updateUser(token_, res.data.user_);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(NavigationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, token != null ? React.createElement(Stack.Navigator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"FindUsers\",\n    component: FindUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Home\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Description\",\n    component: Description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Camera\",\n    component: Cameraa,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })) : React.createElement(SignNaviator.Navigator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, React.createElement(SignNaviator.Screen, {\n    name: \"Login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    overflow: \"scroll\",\n    textAlign: \"center\",\n    height: \"100%\",\n    marginTop: \"40%\"\n  }\n});","map":{"version":3,"sources":["F:/codeGeek/Index.js"],"names":["React","useState","useRef","createRef","NavigationContainer","createStackNavigator","Home","AntDesign","axios","Login","Cameraa","Description","GlobalContext","FindUsers","token_","localStorage","getItem","Index","navigation","useContext","token","addToken","updateUser","user","Stack","SignNaviator","useEffect","check","get","headers","authorization","then","res","console","log","data","user_","styles","StyleSheet","create","container","width","overflow","textAlign","height","marginTop"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, { useState, useRef, createRef } from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport Home from \"./screens/Home\"\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport axios from \"axios\";\r\nimport { StyleSheet, Text, TextInput,View,Button,TouchableOpacity } from 'react-native';\r\nimport Login from \"./screens/Login\";\r\nimport Cameraa from \"./screens/Cameraa\"\r\nimport Description from \"./screens/Description\";\r\nimport { GlobalContext } from \"./context/globalState\";\r\nimport FindUsers from \"./screens/FindUsers\"\r\nvar token_ =localStorage.getItem(\"love_token\") ;\r\nexport default function Index({navigation}) {\r\n    const { token, addToken,updateUser,user } = React.useContext(GlobalContext);\r\n  const Stack = createStackNavigator();\r\n  const SignNaviator = createStackNavigator()\r\n\r\n    React.useEffect(() => {\r\n        if (localStorage.getItem(\"love_token\") === null) {\r\n            \r\n        } else {\r\n            addToken(localStorage.getItem(\"love_token\"))\r\n            check()\r\n        }\r\n\r\n},[])\r\n    async function check() {\r\n        \r\n        if (token_ != null) {\r\n            \r\n            await  axios.get(\"http://192.168.0.106:3006/user/me\", {\r\n                  headers: {\r\n                      authorization: \"Bearer \" + token_\r\n                  }\r\n              }).then((res) => {\r\n                  \r\n                  console.log(res.data.user_)\r\n                updateUser(token_, res.data.user_)\r\n                \r\n              })\r\n          }\r\n  }\r\n  return (\r\n    \r\n\r\n      <NavigationContainer>\r\n      {token != null ?\r\n        \r\n          <Stack.Navigator>\r\n        <Stack.Screen name=\"FindUsers\" component={FindUsers} />\r\n                  <Stack.Screen name=\"Home\" component={Home} />\r\n                  <Stack.Screen name=\"Description\" component={Description} />\r\n                \r\n            <Stack.Screen name=\"Camera\" component={Cameraa} />\r\n          </Stack.Navigator> :\r\n          <SignNaviator.Navigator>\r\n            <SignNaviator.Screen name=\"Login\" component={Login}/>\r\n          </SignNaviator.Navigator>}\r\n      </NavigationContainer>\r\n      \r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    overflow:\"scroll\",\r\n    textAlign: \"center\",\r\n    height: \"100%\",\r\n    marginTop:\"40%\",\r\n        \r\n  },\r\n});\r\n//export default App()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}